'use strict';var asbuild=function(u){function v(a,b){var d=new Uint32Array(a);a=new Uint16Array(a);d=d[b+-4>>>2]>>>1;b>>>=1;if(1024>=d)return String.fromCharCode.apply(String,a.subarray(b,b+d));let e=[];do{var c=a[b+1024-1];c=55296<=c&&56320>c?1023:1024;e.push(String.fromCharCode.apply(String,a.subarray(b,b+=c)));d-=c}while(1024<d);return e.join("")+String.fromCharCode.apply(String,a.subarray(b,b+d))}function w(a){function b(a,b){return a?v(a.buffer,b):"<yet unknown>"}let d={},e=a.env=a.env||{};e.abort=
e.abort||function(a,f,g,l){let c=d.memory||e.memory;throw Error("abort: "+b(c,a)+" at "+b(c,f)+":"+g+":"+l);};e.trace=e.trace||function(a,f){console.log("trace: "+b(d.memory||e.memory,a)+(f?" ":"")+Array.prototype.slice.call(arguments,2,2+f).join(", "))};a.Math=a.Math||Math;a.Date=a.Date||Date;return d}function x(a,b){function d(a){let b=new Uint32Array(l.buffer),h=b[m>>>2];if((a>>>=0)>=h)throw Error("invalid id: "+a);return b[(m+4>>>2)+2*a]}function e(a){let b=new Uint32Array(l.buffer),h=b[m>>>2];
if((a>>>=0)>=h)throw Error("invalid id: "+a);return b[(m+4>>>2)+2*a+1]}function c(a,b,d){let h=l.buffer;if(d)switch(a){case 2:return new Float32Array(h);case 3:return new Float64Array(h)}else switch(a){case 0:return new (b?Int8Array:Uint8Array)(h);case 1:return new (b?Int16Array:Uint16Array)(h);case 2:return new (b?Int32Array:Uint32Array)(h);case 3:return new (b?BigInt64Array:BigUint64Array)(h)}throw Error("unsupported align: "+a);}function f(a){let b=new Uint32Array(l.buffer);var h=b[a+-8>>>2];let e=
d(h);if(!(e&1))throw Error("not an array: "+h);h=31-Math.clz32(e>>>5&31);var m=b[a+4>>>2];a=e&2?b[a+12>>>2]:b[m+-4>>>2]>>>h;return c(h,e&1024,e&2048).subarray(m>>>=h,m+a)}function g(a,b,d){let h=l.buffer,c=new Uint32Array(h);d=c[d+4>>>2];return new a(h,d,c[d+-4>>>2]>>>b)}b=b.exports;let l=b.memory,k=b.table,p=b.__alloc,q=b.__retain,m=b.__rtti_base||-1;a.__allocString=function(a){let b=a.length,h=p(b<<1,1),d=new Uint16Array(l.buffer);for(var c=0,e=h>>>1;c<b;++c)d[e+c]=a.charCodeAt(c);return h};a.__getString=
function(a){let b=l.buffer;if(1!==(new Uint32Array(b))[a+-8>>>2])throw Error("not a string: "+a);return v(b,a)};a.__allocArray=function(a,b){var h=d(a);if(!(h&3))throw Error("not an array: "+a+" @ "+h);let e=31-Math.clz32(h>>>5&31),m=b.length,g=p(m<<e,0);a=p(h&2?16:12,a);var f=new Uint32Array(l.buffer);f[a+0>>>2]=q(g);f[a+4>>>2]=g;f[a+8>>>2]=m<<e;h&2&&(f[a+12>>>2]=m);f=c(e,h&1024,h&2048);if(h&8192)for(h=0;h<m;++h)f[(g>>>e)+h]=q(b[h]);else f.set(b,g>>>e);return a};a.__getArrayView=f;a.__getArray=function(a){a=
f(a);let b=a.length,d=Array(b);for(let c=0;c<b;c++)d[c]=a[c];return d};a.__getArrayBuffer=function(a){let b=l.buffer,c=(new Uint32Array(b))[a+-4>>>2];return b.slice(a,a+c)};a.__getInt8Array=g.bind(null,Int8Array,0);a.__getUint8Array=g.bind(null,Uint8Array,0);a.__getUint8ClampedArray=g.bind(null,Uint8ClampedArray,0);a.__getInt16Array=g.bind(null,Int16Array,1);a.__getUint16Array=g.bind(null,Uint16Array,1);a.__getInt32Array=g.bind(null,Int32Array,2);a.__getUint32Array=g.bind(null,Uint32Array,2);E&&(a.__getInt64Array=
g.bind(null,BigInt64Array,3),a.__getUint64Array=g.bind(null,BigUint64Array,3));a.__getFloat32Array=g.bind(null,Float32Array,2);a.__getFloat64Array=g.bind(null,Float64Array,3);a.__instanceof=function(a,b){let c=new Uint32Array(l.buffer);a=c[a+-8>>>2];if(a<=c[m>>>2]){do if(a==b)return!0;while(a=e(a))}return!1};a.memory=a.memory||l;a.table=a.table||k;return F(b,a)}function y(a,b){var d=(...d)=>{b(d.length);return a(...d)};d.original=a;return d}function z(a){return"undefined"!==typeof Response&&a instanceof
Response}async function A(a,b){return z(a=await a)?B(a,b):x(w(b||(b={})),await WebAssembly.instantiate(a instanceof WebAssembly.Module?a:await WebAssembly.compile(a),b))}async function B(a,b){return WebAssembly.instantiateStreaming?x(w(b||(b={})),(await WebAssembly.instantiateStreaming(a,b)).instance):A(z(a=await a)?a.arrayBuffer():a,b)}function F(a,b){function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b=b?Object.create(b):{};var e=a.__setargc||function(){};for(let g in a){if(!d(a,g))continue;
let l=a[g];var c=g.split(".");let k=b;for(;1<c.length;){var f=c.shift();d(k,f)||(k[f]={});k=k[f]}c=c[0];f=c.indexOf("#");if(0<=f){let b=c.substring(0,f),q=k[b];if("undefined"===typeof q||!q.prototype){let a=function(...b){return a.wrap(a.prototype.constructor(0,...b))};a.prototype={valueOf:function(){return this[r]}};a.wrap=function(b){return Object.create(a.prototype,{[r]:{value:b,writable:!1}})};q&&Object.getOwnPropertyNames(q).forEach(b=>Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(q,
b)));k[b]=a}c=c.substring(f+1);k=k[b].prototype;if(/^(get|set):/.test(c)){if(!d(k,c=c.substring(4))){let b=a[g.replace("set:","get:")],d=a[g.replace("get:","set:")];Object.defineProperty(k,c,{get:function(){return b(this[r])},set:function(a){d(this[r],a)},enumerable:!0})}}else"constructor"===c?k[c]=y(l,e):Object.defineProperty(k,c,{value:function(...a){e(a.length);return l(this[r],...a)}})}else/^(get|set):/.test(c)?d(k,c=c.substring(4))||Object.defineProperty(k,c,{get:a[g.replace("set:","get:")],
set:a[g.replace("get:","set:")],enumerable:!0}):k[c]="function"===typeof l?y(l,e):l}return b}async function G(a,b){let d=a instanceof Promise;d&&(a=await a);return d?await H(a,b):await I(a,b)}function J(a,b){if("object"!==typeof a)throw Error("Did not pass a valid exports object of the WebAssembly Instance");if("function"!==typeof b)throw Error("Did not pass a valid exported function of the WebAssembly Instance");C.forEach(b=>{if(!a[b])throw Error('Required Exported AssemblyScript Runtime functions are not present. Runtime must be set to "full" or "stub"');
})}function K(a,b,d){let e=(a,b)=>{a=a[b[0]];b.shift();return 0<b.length?e(a,b):a},c=e(b,[...d]),f=b,g=function(){const g=a.unboundExports;f===b&&(f=e(b,[...d]));const k=[];Array.prototype.slice.call(arguments).forEach((a,b)=>{let c=void 0;f.shouldCacheTypes&&f.cachedArgTypes[b]&&"ref"===f.cachedArgTypes[b].type?c=n[f.cachedArgTypes[b].key]:Object.keys(n).some(d=>n[d].isTypeFromReference(g,a)?(c=n[d],f.shouldCacheTypes&&(f.cachedArgTypes[b]={type:"ref",key:d}),!0):!1);c?k.push(c.getValueFromRef(g,
a)):k.push(a)});return c.apply(null,k)};g.shouldCacheTypes=!0;g.cachedArgTypes=[];return g}function L(a,b){let d=a.unboundExports,e=d[b];J(d,e);let c=a.exports,f=function(){var g=Array.prototype.slice.call(arguments);c===a.exports&&(c=a.exports[b]);const f=[],k=[];g.forEach((a,b)=>{if("number"===typeof a)f.push(a),c.shouldCacheTypes&&(c.cachedArgTypes[b]={type:"number"});else{var e=void 0;if(c.shouldCacheTypes&&c.cachedArgTypes[b]&&"ref"===c.cachedArgTypes[b].type)e=n[c.cachedArgTypes[b].key];else if(Object.keys(n).some(d=>
n[d].isTypeFromArgument(a)?(e=n[d],c.shouldCacheTypes&&(c.cachedArgTypes[b]={type:"ref",key:d}),!0):!1),!e)throw Error(`The argument, ${a}, is not a supported type by asbind`);f.push(e.getRef(d,a));k.push(b)}});const p=e.apply(null,f);k.forEach(a=>{d.__release(f[a])});g=void 0;if(void 0!==p){let a=void 0;c.shouldCacheTypes&&c.cachedReturnTypes[0]?"ref"===c.cachedReturnTypes[0].type&&(a=a=n[c.cachedReturnTypes[0].key]):Object.keys(n).some(b=>n[b].isTypeFromReference(d,p)?(a=n[b],c.shouldCacheTypes&&
(c.cachedReturnTypes[0]={type:"ref",key:b}),!0):!1);a?g=a.getValueFromRef(d,p):"number"===typeof p&&(g=p,c.shouldCacheTypes&&(c.cachedReturnTypes[0]={type:"number"}))}return g};f.shouldCacheTypes=!0;f.cachedArgTypes=[];f.cachedReturnTypes=[];return f}let E="undefined"!==typeof BigUint64Array,r=Symbol();var I=A,H=B;let C=["__alloc","__allocString","__retain","__release"],n={STRING:{isTypeFromArgument:a=>"string"===typeof a,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_String_ID),getRef:(a,
b)=>a.__retain(a.__allocString(b)),getValueFromRef:(a,b)=>a.__getString(b)},INT8ARRAY:{isTypeFromArgument:a=>a instanceof Int8Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Int8Array_ID),getRef:(a,b)=>a.__retain(a.__allocArray(a.__asbind_Int8Array_ID,b)),getValueFromRef:(a,b)=>a.__getInt8Array(b).slice()},UINT8ARRAY:{isTypeFromArgument:a=>a instanceof Uint8Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Uint8Array_ID),getRef:(a,b)=>a.__retain(a.__allocArray(a.__asbind_Uint8Array_ID,
b)),getValueFromRef:(a,b)=>a.__getUint8Array(b).slice()},INT16ARRAY:{isTypeFromArgument:a=>a instanceof Int16Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Int16Array_ID),getRef:(a,b)=>a.__retain(a.__allocArray(a.__asbind_Int16Array_ID,b)),getValueFromRef:(a,b)=>a.__getInt16Array(b).slice()},UINT16ARRAY:{isTypeFromArgument:a=>a instanceof Uint16Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Uint16Array_ID),getRef:(a,b)=>a.__retain(a.__allocArray(a.__asbind_Uint16Array_ID,
b)),getValueFromRef:(a,b)=>a.__getUint16Array(b).slice()},INT32ARRAY:{isTypeFromArgument:a=>a instanceof Int32Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Int32Array_ID),getRef:(a,b)=>a.__retain(a.__allocArray(a.__asbind_Int32Array_ID,b)),getValueFromRef:(a,b)=>a.__getInt32Array(b).slice()},UINT32ARRAY:{isTypeFromArgument:a=>a instanceof Uint32Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Uint32Array_ID),getRef:(a,b)=>a.__retain(a.__allocArray(a.__asbind_Uint32Array_ID,
b)),getValueFromRef:(a,b)=>a.__getUint32Array(b).slice()},FLOAT32ARRAY:{isTypeFromArgument:a=>a instanceof Float32Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Float32Array_ID),getRef:(a,b)=>a.__retain(a.__allocArray(a.__asbind_Float32Array_ID,b)),getValueFromRef:(a,b)=>a.__getFloat32Array(b).slice()},FLOAT64ARRAY:{isTypeFromArgument:a=>a instanceof Float64Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Float64Array_ID),getRef:(a,b)=>a.__retain(a.__allocArray(a.__asbind_Float64Array_ID,
b)),getValueFromRef:(a,b)=>a.__getFloat64Array(b).slice()}},t=(a,b,d)=>{a&&Object.keys(a).forEach(e=>{"function"===typeof a[e]?d(a,b,e):"object"===typeof a[e]&&t(a[e],[...b,e],d)})};class M{constructor(){this.unboundExports={};this.exports={};this.importObject={}}async _instantiate(a,b){this.importObject=b;t(this.importObject,[],(a,b,c)=>{a[`__asbind_unbound_${c}`]=a[c];a[c]=K(this,this.importObject,[...b,c])});this.unboundExports=await G(a,this.importObject);this.exports={};Object.keys(this.unboundExports).forEach(a=>
{var b;if(b="function"===typeof this.unboundExports[a])b=a.startsWith("__asbind")?!0:C.includes(a)?!0:!1,b=!b;this.exports[a]=b?L(this,a):this.unboundExports[a]})}enableExportFunctionTypeCaching(){Object.keys(this.exports).forEach(a=>{this.exports[a].shouldCacheTypes=!0})}disableExportFunctionTypeCaching(){Object.keys(this.exports).forEach(a=>{this.exports[a].shouldCacheTypes=!1})}enableImportFunctionTypeCaching(){t(this.importObject,[],(a,b,d)=>{a[d].shouldCacheTypes=!0})}disableImportFunctionTypeCaching(){t(this.importObject,
[],(a,b,d)=>{a[d].shouldCacheTypes=!1})}}let D={version:"0.1.2",instantiate:async(a,b)=>{let d=new M;await d._instantiate(a,b);return d}};u.AsBind=D;u.default=D;return u}({});
